require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/orderDetail/index"],{"0bf5":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("a34a")),o=n("a27d"),i=n("e056");function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,o,i,u){try{var d=e[i](u),a=d.value}catch(s){return void n(s)}d.done?t(a):Promise.resolve(a).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){d(i,r,o,u,a,"next",e)}function a(e){d(i,r,o,u,a,"throw",e)}u(void 0)}))}}var s=function(){n.e("pages/admin/components/PriceChange/index").then(function(){return resolve(n("0859"))}.bind(null,n)).catch(n.oe)},f={name:"AdminOrder",components:{PriceChange:s},props:{},data:function(){return{order:!1,change:!1,order_id:"",orderInfo:{_status:{}},status:"",title:"",payType:"",types:"",order_type:"",clickNum:1,goname:"",customForm:[]}},watch:{"$route.params.oid":function(e){var t=this;void 0!=e&&(t.order_id=e,t.getIndex())}},onShow:function(){this.getIndex()},onLoad:function(e){this.order_id=e.id,this.goname=e.goname,this.order_type=e.types},methods:{more:function(){this.order=!this.order},modify:function(e){this.change=!0,this.status=e},changeclose:function(e){this.change=e},getIndex:function(){var e=this,t=-3==this.order_type?o.getAdminRefundOrderDetail:o.getAdminOrderDetail;t(e.order_id).then((function(t){if(e.orderInfo=t.data,e.types=t.data._status._type,e.title=t.data._status._title,e.payType=t.data._status._payType,e.orderInfo.custom_form&&e.orderInfo.custom_form.length){var n=[];e.orderInfo.custom_form.map((function(e){""!=e.value&&n.push(e)})),e.$set(e,"customForm",n)}}),(function(e){}))},agreeExpress:function(e){var t=this;(0,o.agreeExpress)({id:e}).then((function(e){t.$util.Tips({title:e.msg}),t.init()})).catch((function(e){t.$util.Tips({title:e})}))},savePrice:function(e){var t=this;return a(r.default.mark((function n(){var u,d,a,s,f,l;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u=t,d={},a=e.price,s=e.refund_price,u.orderInfo.refund_status,f=e.remark,d.order_id=u.orderInfo.order_id,0!=u.status){n.next=9;break}if((0,i.isMoney)(a)){n.next=5;break}return n.abrupt("return",u.$util.Tips({title:u.$t("请输入正确的金额")}));case 5:d.price=a,(0,o.setAdminOrderPrice)(d).then((function(e){u.change=!1,u.$util.Tips({title:u.$t("改价成功"),icon:"success"},"/pages/admin/orderDetail/index?id="+e.data.order_id+"&types=0")}),(function(e){u.change=!1,u.$util.Tips({title:u.$t("改价失败"),icon:"none"})})),n.next=22;break;case 9:if(2!=u.status){n.next=17;break}if((0,i.isMoney)(s)){n.next=12;break}return n.abrupt("return",u.$util.Tips({title:u.$t("请输入正确的金额")}));case 12:d.price=s,d.type=e.type,(0,o.setOrderRefund)(d).then((function(e){u.change=!1,u.$util.Tips({title:e.msg}),u.getIndex()}),(function(e){u.change=!1,u.$util.Tips({title:e})})),n.next=22;break;case 17:if(f){n.next=19;break}return n.abrupt("return",u.$util.Tips({title:u.$t("请输入备注")}));case 19:d.remark=f,l=-3==u.order_type?(0,o.setAdminRefundRemark)(d):(0,o.setAdminOrderRemark)(d),l.then((function(e){u.change=!1,u.$util.Tips({title:e.msg,icon:"success"}),u.getIndex()}),(function(e){u.change=!1,u.$util.Tips({title:e})}));case 22:case"end":return n.stop()}}),n)})))()},offlinePay:function(){var e=this;(0,o.setOfflinePay)({order_id:this.orderInfo.order_id}).then((function(t){e.$util.Tips({title:t.msg,icon:"success"}),e.getIndex()}),(function(t){e.$util.Tips({title:t})}))},copyNum:function(t){e.setClipboardData({data:t,success:function(){}})}}};t.default=f}).call(this,n("543d")["default"])},4049:function(e,t,n){"use strict";(function(e){n("248d");r(n("66fd"));var t=r(n("bcd8"));function r(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},bcd8:function(e,t,n){"use strict";n.r(t);var r=n("eb35"),o=n("f2ba");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("f44f");var u,d=n("f0c5"),a=Object(d["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);t["default"]=a.exports},c090:function(e,t,n){},eb35:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.$t("订单")),r="looks"==e.goname||e.orderInfo.remark?null:e.$t("订单未备注，点击添加备注信息"),o=e.$t("复制"),i=e.$t("￥"),u=e.__map(e.orderInfo.cartInfo,(function(t,n){var r=e.__get_orig(t),o=t.productInfo.attrInfo?e.$t("￥"):null,i=t.productInfo.attrInfo?null:e.$t("￥");return{$orig:r,m4:o,m5:i}})),d=e.orderInfo.total_num?e.$t("共"):null,a=e.orderInfo.total_num?e.$t("件商品，应支付"):null,s=e.orderInfo.total_num?e.$t("￥"):null,f=e.orderInfo.total_num?e.$t("邮费"):null,l=e.orderInfo.total_num?e.$t("￥"):null,c=e.orderInfo.order_id?e.$t("订单编号"):null,p=e.orderInfo.order_id?e.$t("复制"):null,m=e.orderInfo.order_id?e.$t("下单时间"):null,_=e.orderInfo.order_id?e.$t("支付状态"):null,y=e.orderInfo.order_id&&1==e.orderInfo.paid?e.$t("已支付"):null,I=e.orderInfo.order_id&&1!=e.orderInfo.paid?e.$t("未支付"):null,$=e.orderInfo.order_id?e.$t("支付方式"):null,h=e.orderInfo.order_id?e.$t("买家留言"):null,g=e.$t("支付金额"),v=e.$t("￥"),b=e.$t("优惠券抵扣"),k=e.$t("￥"),x=e.$t("运费"),T=e.$t("￥"),P=e.$t("实付款"),w=e.$t("￥"),O="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type?e.$t("配送方式"):null,A="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"express"===e.orderInfo.delivery_type?e.$t("快递"):null,M="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"send"===e.orderInfo.delivery_type?e.$t("送货"):null,D="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"express"===e.orderInfo.delivery_type?e.$t("快递公司"):null,R="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"send"===e.orderInfo.delivery_type?e.$t("送货人"):null,N="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"express"===e.orderInfo.delivery_type?e.$t("快递单号"):null,j="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type&&"send"===e.orderInfo.delivery_type?e.$t("送货人电话"):null,C="fictitious"!=e.orderInfo.delivery_type&&2===e.orderInfo._status._type?e.$t("复制"):null,E="looks"!=e.goname&&0==e.types?e.$t("一键改价"):null,S="looks"!=e.goname&&-1==e.types&&1==e.orderInfo.refund_type?e.$t("立即退款"):null,F="looks"!=e.goname&&-1==e.types&&2==e.orderInfo.refund_type?e.$t("同意退货"):null,J="looks"!=e.goname&&-1==e.types&&4==e.orderInfo.refund_type?e.$t("待用户发货"):null,L="looks"!=e.goname?e.$t("订单备注"):null,U="looks"!=e.goname&&"offline"===e.orderInfo.pay_type&&0===e.orderInfo.paid?e.$t("确认付款"):null,q="looks"==e.goname||1!=e.types||1!==e.orderInfo.shipping_type||null!==e.orderInfo.pinkStatus&&2!==e.orderInfo.pinkStatus?null:e.$t("去发货");e.$mp.data=Object.assign({},{$root:{m0:n,m1:r,m2:o,m3:i,l0:u,m6:d,m7:a,m8:s,m9:f,m10:l,m11:c,m12:p,m13:m,m14:_,m15:y,m16:I,m17:$,m18:h,m19:g,m20:v,m21:b,m22:k,m23:x,m24:T,m25:P,m26:w,m27:O,m28:A,m29:M,m30:D,m31:R,m32:N,m33:j,m34:C,m35:E,m36:S,m37:F,m38:J,m39:L,m40:U,m41:q}})},i=[]},f2ba:function(e,t,n){"use strict";n.r(t);var r=n("0bf5"),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},f44f:function(e,t,n){"use strict";var r=n("c090"),o=n.n(r);o.a}},[["4049","common/runtime","common/vendor"]]]);